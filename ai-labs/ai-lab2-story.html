<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مختبر 02 | ورشة مهندسين المستقبل</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/animations.css">
    <link rel="stylesheet" href="../css/ai-labs.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <!-- Arabic Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=Tajawal:wght@400;500;700&family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Arabic RTL Support */
        html[lang="ar"] {
            direction: rtl;
            text-align: right;
        }
        
        html[lang="ar"] body {
            font-family: 'Cairo', 'Tajawal', 'Noto Sans Arabic', sans-serif !important;
            direction: rtl;
            text-align: right;
        }
        
        html[lang="ar"] .message-text,
        html[lang="ar"] .lab-description,
        html[lang="ar"] .slide-body p,
        html[lang="ar"] .hint,
        html[lang="ar"] h1, h2, h3, h4, h5, h6 {
            direction: rtl;
            text-align: right;
            unicode-bidi: embed;
        }
        
        html[lang="ar"] input[type="text"],
        html[lang="ar"] textarea {
            direction: rtl;
            text-align: right;
        }
        
        html[lang="ar"] .nav-back {
            float: right;
        }
        
        html[lang="ar"] .labs-grid,
        html[lang="ar"] .ai-labs-grid {
            direction: rtl;
        }
        
        html[lang="ar"] .quick-prompts,
        html[lang="ar"] .capability-item,
        html[lang="ar"] .option-group {
            text-align: right;
        }
        
        /* Fix button alignment for RTL */
        html[lang="ar"] .genre-buttons,
        html[lang="ar"] .setting-buttons,
        html[lang="ar"] .style-buttons {
            justify-content: flex-end;
        }
        
        /* Ensure proper Arabic text rendering */
        html[lang="ar"] * {
            font-kerning: auto;
            text-rendering: optimizeLegibility;
            -webkit-font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
        }
        
        /* Fix navigation layout for Arabic */
        html[lang="ar"] .ai-lab-nav {
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            direction: rtl !important;
        }
        
        html[lang="ar"] .nav-back {
            transform: none !important;
            direction: rtl !important;
            order: 1 !important;
            margin-right: 0 !important;
            margin-left: auto !important;
        }
        
        html[lang="ar"] .nav-back:hover {
            transform: translateX(8px) !important;
        }
        
        html[lang="ar"] .nav-title {
            text-align: center !important;
            order: 2 !important;
            flex: 1 !important;
            margin: 0 20px !important;
        }
        
        html[lang="ar"] .ai-status {
            order: 3 !important;
            margin-left: 0 !important;
            margin-right: auto !important;
        }
        
        /* Center other titles */
        html[lang="ar"] .section-header,
        html[lang="ar"] h2, html[lang="ar"] h3 {
            text-align: center !important;
        }
        
        /* Fix button alignment for Arabic */
        html[lang="ar"] .prompt-buttons,
        html[lang="ar"] .genre-buttons,
        html[lang="ar"] .setting-buttons,
        html[lang="ar"] .style-buttons,
        html[lang="ar"] .quick-prompts,
        html[lang="ar"] .generation-options {
            direction: rtl !important;
            text-align: right !important;
        }

        /* Story Builder Enhanced Styles */
        .story-builder {
            background: rgba(0, 255, 195, 0.1);
            border: 1px solid rgba(0, 255, 195, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            direction: ltr;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 255, 195, 0.2);
            border: 2px solid rgba(0, 255, 195, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            color: #fff;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active {
            background: #00ffc3;
            color: #000;
            box-shadow: 0 0 20px rgba(0, 255, 195, 0.6);
        }

        .step.completed {
            background: #4CAF50;
            border-color: #4CAF50;
        }

        .step-line {
            width: 60px;
            height: 2px;
            background: rgba(0, 255, 195, 0.3);
            transition: all 0.3s ease;
        }

        .step-line.completed {
            background: #4CAF50;
        }

        .genre-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .genre-card {
            background: linear-gradient(135deg, rgba(0, 255, 195, 0.1), rgba(138, 43, 226, 0.1));
            border: 1px solid rgba(0, 255, 195, 0.3);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .genre-card:hover {
            background: linear-gradient(135deg, rgba(0, 255, 195, 0.2), rgba(138, 43, 226, 0.2));
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 195, 0.3);
        }

        .genre-card.selected {
            background: linear-gradient(135deg, rgba(0, 255, 195, 0.3), rgba(138, 43, 226, 0.3));
            border-color: #00ffc3;
            box-shadow: 0 0 20px rgba(0, 255, 195, 0.5);
        }

        .genre-icon {
            font-size: 3rem;
            margin-bottom: 10px;
            display: block;
        }

        .genre-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #00ffc3;
            margin-bottom: 8px;
        }

        .genre-description {
            font-size: 0.9rem;
            color: #b0b0b0;
            line-height: 1.4;
        }

        .story-scenarios {
            display: none;
            margin-top: 20px;
            animation: fadeInUp 0.5s ease;
        }

        .story-scenarios.active {
            display: block;
        }

        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .scenario-card {
            background: linear-gradient(45deg, rgba(0, 255, 195, 0.15), rgba(138, 43, 226, 0.15));
            border: 1px solid rgba(0, 255, 195, 0.4);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .scenario-card:hover {
            background: linear-gradient(45deg, rgba(0, 255, 195, 0.25), rgba(138, 43, 226, 0.25));
            transform: scale(1.03);
            box-shadow: 0 8px 25px rgba(0, 255, 195, 0.3);
        }

        .scenario-card.selected {
            background: linear-gradient(45deg, rgba(0, 255, 195, 0.35), rgba(138, 43, 226, 0.35));
            border-color: #00ffc3;
            box-shadow: 0 0 20px rgba(0, 255, 195, 0.6);
        }

        .scenario-emoji {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .scenario-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #00ffc3;
            margin-bottom: 8px;
        }

        .scenario-desc {
            font-size: 0.85rem;
            color: #b0b0b0;
            line-height: 1.3;
        }

        .elements-selection {
            display: none;
            margin-top: 20px;
            animation: fadeInUp 0.5s ease;
        }

        .elements-selection.active {
            display: block;
        }

        .elements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }

        .element-btn {
            background: linear-gradient(45deg, rgba(0, 255, 195, 0.2), rgba(138, 43, 226, 0.2));
            border: 1px solid rgba(0, 255, 195, 0.4);
            border-radius: 10px;
            padding: 15px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.3;
        }

        .element-btn:hover {
            background: linear-gradient(45deg, rgba(0, 255, 195, 0.3), rgba(138, 43, 226, 0.3));
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 255, 195, 0.3);
        }

        .element-btn.selected {
            background: linear-gradient(45deg, #00ffc3, #8a2be2);
            color: #000;
            font-weight: bold;
        }

        .generated-story-display {
            background: rgba(0, 255, 195, 0.1);
            border: 1px solid rgba(0, 255, 195, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .generated-story-display.show {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        .story-prompt {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            font-family: 'Source Code Pro', monospace;
            color: #00ffc3;
            margin: 10px 0;
            line-height: 1.5;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .copy-btn, .new-story-btn {
            background: linear-gradient(45deg, #00ffc3, #8a2be2);
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-btn:hover, .new-story-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 195, 0.4);
        }

        .story-preview {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #00ffc3;
        }

        .story-preview h4 {
            color: #00ffc3;
            margin-bottom: 10px;
        }

        .story-preview p {
            color: #e0e0e0;
            line-height: 1.6;
            font-style: italic;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .continue-btn {
            background: linear-gradient(45deg, #00ffc3, #8a2be2);
            border: none;
            border-radius: 12px;
            padding: 15px 30px;
            color: #000;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            display: block;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 255, 195, 0.4);
        }

        .continue-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="ai-lab-bg"></div>
    <div class="ai-data-streams"></div>
    
    <nav class="ai-lab-nav">
        <a href="../ai-home.html" class="nav-back">
            <span>العودة للمختبرات →</span>
        </a>
        <h1 class="nav-title">
            <span>مختبر 02: أستوديو القصص</span>
        </h1>
        <div class="ai-status">
            <span class="status-dot"></span>
            <span>الذكاء الاصطناعي متصل</span>
        </div>
    </nav>
    
    <main class="ai-lab-container">
        <!-- Lab Introduction -->
        <section class="lab-intro">
            <h2 class="section-header">
                <span>أستوديو الإبداع لصناعة القصص</span>
            </h2>
            <p class="lab-description">
                ادخل عالم الإبداع اللامحدود! اختر من بين عشرات السيناريوهات المثيرة لإنشاء قصص فريدة ومبدعة. 
                من الخيال العلمي إلى المغامرات التاريخية، دع الذكاء الاصطناعي يساعدك في نسج حكايات لا تُنسى.
            </p>
            <div class="ai-capabilities">
                <div class="capability-item">
                    <span class="icon">📖</span>
                    <span>قصص تفاعلية</span>
                </div>
                <div class="capability-item">
                    <span class="icon">🎭</span>
                    <span>شخصيات مميزة</span>
                </div>
                <div class="capability-item">
                    <span class="icon">🌟</span>
                    <span>حبكات مثيرة</span>
                </div>
                <div class="capability-item">
                    <span class="icon">✨</span>
                    <span>إبداع لا محدود</span>
                </div>
            </div>
        </section>

        <!-- Step Indicator -->
        <div class="step-indicator">
            <div class="step active" id="step1">1</div>
            <div class="step-line" id="line1"></div>
            <div class="step" id="step2">2</div>
            <div class="step-line" id="line2"></div>
            <div class="step" id="step3">3</div>
            <div class="step-line" id="line3"></div>
            <div class="step" id="step4">4</div>
        </div>

        <!-- Story Builder -->
        <section class="story-builder">
            <h3 style="text-align: center; color: #00ffc3; margin-bottom: 20px;">
                🎯 ابدأ رحلة الإبداع
            </h3>
            
            <!-- Genre Selection -->
            <div class="genre-selection" id="genreSelection">
                <div class="genre-card" data-genre="adventure">
                    <span class="genre-icon">⚔️</span>
                    <div class="genre-title">مغامرات ملحمية</div>
                    <div class="genre-description">رحلات مثيرة، معارك شرسة، وبطولات خالدة</div>
                </div>

                <div class="genre-card" data-genre="scifi">
                    <span class="genre-icon">🚀</span>
                    <div class="genre-title">خيال علمي</div>
                    <div class="genre-description">تقنيات مستقبلية، فضاء، وعوالم رقمية</div>
                </div>

                <div class="genre-card" data-genre="fantasy">
                    <span class="genre-icon">🧙</span>
                    <div class="genre-title">فانتازيا سحرية</div>
                    <div class="genre-description">سحر، وحوش أسطورية، وعوالم خيالية</div>
                </div>

                <div class="genre-card" data-genre="mystery">
                    <span class="genre-icon">🔍</span>
                    <div class="genre-title">غموض وإثارة</div>
                    <div class="genre-description">ألغاز معقدة، جرائم، وأسرار خفية</div>
                </div>

                <div class="genre-card" data-genre="historical">
                    <span class="genre-icon">🏛️</span>
                    <div class="genre-title">تاريخي وتراثي</div>
                    <div class="genre-description">حضارات عريقة، شخصيات تاريخية، وأحداث مهمة</div>
                </div>

                <div class="genre-card" data-genre="comedy">
                    <span class="genre-icon">😄</span>
                    <div class="genre-title">كوميديا مرحة</div>
                    <div class="genre-description">مواقف طريفة، شخصيات مضحكة، ومغامرات خفيفة</div>
                </div>
            </div>

            <!-- Adventure Scenarios -->
            <div class="story-scenarios" id="adventure-scenarios">
                <h4 style="color: #00ffc3; margin-bottom: 15px;">⚔️ سيناريوهات المغامرات</h4>
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="desert-treasure">
                        <span class="scenario-emoji">🏜️</span>
                        <div class="scenario-title">كنز الصحراء المفقود</div>
                        <div class="scenario-desc">رحلة في الصحراء للبحث عن كنز أسطوري مدفون</div>
                    </div>
                    <div class="scenario-card" data-scenario="mountain-quest">
                        <span class="scenario-emoji">🏔️</span>
                        <div class="scenario-title">تسلق الجبل المقدس</div>
                        <div class="scenario-desc">مغامرة تسلق جبل خطير للعثور على معبد مفقود</div>
                    </div>
                    <div class="scenario-card" data-scenario="sea-adventure">
                        <span class="scenario-emoji">🌊</span>
                        <div class="scenario-title">أسرار الجزيرة المهجورة</div>
                        <div class="scenario-desc">استكشاف جزيرة غامضة مليئة بالألغاز والمخاطر</div>
                    </div>
                    <div class="scenario-card" data-scenario="jungle-expedition">
                        <span class="scenario-emoji">🌿</span>
                        <div class="scenario-title">رحلة الغابة المطيرة</div>
                        <div class="scenario-desc">اختراق غابة كثيفة للوصول إلى حضارة مفقودة</div>
                    </div>
                    <div class="scenario-card" data-scenario="cave-exploration">
                        <span class="scenario-emoji">🕳️</span>
                        <div class="scenario-title">كهوف الأسرار العميقة</div>
                        <div class="scenario-desc">استكشاف كهوف مظلمة تخفي أسراراً قديمة</div>
                    </div>
                    <div class="scenario-card" data-scenario="urban-adventure">
                        <span class="scenario-emoji">🏙️</span>
                        <div class="scenario-title">مطاردة في المدينة</div>
                        <div class="scenario-desc">مغامرة حضرية مثيرة عبر شوارع المدينة</div>
                    </div>
                </div>
            </div>

            <!-- Sci-Fi Scenarios -->
            <div class="story-scenarios" id="scifi-scenarios">
                <h4 style="color: #00ffc3; margin-bottom: 15px;">🚀 سيناريوهات الخيال العلمي</h4>
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="space-station">
                        <span class="scenario-emoji">🛸</span>
                        <div class="scenario-title">محطة الفضاء المهجورة</div>
                        <div class="scenario-desc">اكتشاف محطة فضائية مهجورة تحمل أسراراً مظلمة</div>
                    </div>
                    <div class="scenario-card" data-scenario="time-travel">
                        <span class="scenario-emoji">⏰</span>
                        <div class="scenario-title">السفر عبر الزمن</div>
                        <div class="scenario-desc">رحلة عبر الزمن لتغيير حدث تاريخي مهم</div>
                    </div>
                    <div class="scenario-card" data-scenario="ai-rebellion">
                        <span class="scenario-emoji">🤖</span>
                        <div class="scenario-title">ثورة الذكاء الاصطناعي</div>
                        <div class="scenario-desc">عالم يسيطر عليه الذكاء الاصطناعي المتمرد</div>
                    </div>
                    <div class="scenario-card" data-scenario="alien-contact">
                        <span class="scenario-emoji">👽</span>
                        <div class="scenario-title">اللقاء الأول</div>
                        <div class="scenario-desc">أول لقاء للبشرية مع حضارة فضائية ذكية</div>
                    </div>
                    <div class="scenario-card" data-scenario="virtual-reality">
                        <span class="scenario-emoji">🥽</span>
                        <div class="scenario-title">العالم الافتراضي</div>
                        <div class="scenario-desc">مغامرة داخل عالم افتراضي لا يمكن التمييز بينه وبين الحقيقة</div>
                    </div>
                    <div class="scenario-card" data-scenario="mars-colony">
                        <span class="scenario-emoji">🔴</span>
                        <div class="scenario-title">مستعمرة المريخ</div>
                        <div class="scenario-desc">الحياة في أول مستعمرة بشرية على كوكب المريخ</div>
                    </div>
                </div>
            </div>

            <!-- Fantasy Scenarios -->
            <div class="story-scenarios" id="fantasy-scenarios">
                <h4 style="color: #00ffc3; margin-bottom: 15px;">🧙 سيناريوهات الفانتازيا</h4>
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="magic-academy">
                        <span class="scenario-emoji">🏫</span>
                        <div class="scenario-title">أكاديمية السحر</div>
                        <div class="scenario-desc">طالب جديد في أكاديمية سحرية يكتشف قوة خفية</div>
                    </div>
                    <div class="scenario-card" data-scenario="dragon-quest">
                        <span class="scenario-emoji">🐉</span>
                        <div class="scenario-title">مهمة التنين الأخير</div>
                        <div class="scenario-desc">البحث عن آخر تنين للحصول على مساعدته</div>
                    </div>
                    <div class="scenario-card" data-scenario="enchanted-forest">
                        <span class="scenario-emoji">🌲</span>
                        <div class="scenario-title">الغابة المسحورة</div>
                        <div class="scenario-desc">رحلة عبر غابة سحرية مليئة بالمخلوقات الأسطورية</div>
                    </div>
                    <div class="scenario-card" data-scenario="cursed-kingdom">
                        <span class="scenario-emoji">👑</span>
                        <div class="scenario-title">المملكة الملعونة</div>
                        <div class="scenario-desc">كسر لعنة قديمة تهدد مملكة بأكملها</div>
                    </div>
                    <div class="scenario-card" data-scenario="magical-artifact">
                        <span class="scenario-emoji">💎</span>
                        <div class="scenario-title">القطعة الأثرية السحرية</div>
                        <div class="scenario-desc">البحث عن قطعة أثرية سحرية قادرة على تغيير العالم</div>
                    </div>
                    <div class="scenario-card" data-scenario="wizard-duel">
                        <span class="scenario-emoji">⚡</span>
                        <div class="scenario-title">مبارزة السحرة</div>
                        <div class="scenario-desc">مسابقة سحرية بين أقوى السحرة في المملكة</div>
                    </div>
                </div>
            </div>

            <!-- Mystery Scenarios -->
            <div class="story-scenarios" id="mystery-scenarios">
                <h4 style="color: #00ffc3; margin-bottom: 15px;">🔍 سيناريوهات الغموض</h4>
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="mansion-mystery">
                        <span class="scenario-emoji">🏚️</span>
                        <div class="scenario-title">لغز القصر المهجور</div>
                        <div class="scenario-desc">حل لغز اختفاء عائلة كاملة من قصرها القديم</div>
                    </div>
                    <div class="scenario-card" data-scenario="school-secret">
                        <span class="scenario-emoji">🎓</span>
                        <div class="scenario-title">سر المدرسة الليلية</div>
                        <div class="scenario-desc">طالب يكتشف أحداثاً غريبة تحدث في المدرسة بعد منتصف الليل</div>
                    </div>
                    <div class="scenario-card" data-scenario="missing-friend">
                        <span class="scenario-emoji">👥</span>
                        <div class="scenario-title">الصديق المفقود</div>
                        <div class="scenario-desc">البحث عن صديق اختفى في ظروف غامضة</div>
                    </div>
                    <div class="scenario-card" data-scenario="ancient-cipher">
                        <span class="scenario-emoji">📜</span>
                        <div class="scenario-title">الشيفرة القديمة</div>
                        <div class="scenario-desc">فك رموز شيفرة أثرية تؤدي إلى كشف سر تاريخي</div>
                    </div>
                    <div class="scenario-card" data-scenario="haunted-library">
                        <span class="scenario-emoji">📚</span>
                        <div class="scenario-title">مكتبة الأشباح</div>
                        <div class="scenario-desc">أحداث خارقة تحدث في مكتبة قديمة كل ليلة</div>
                    </div>
                    <div class="scenario-card" data-scenario="cyber-mystery">
                        <span class="scenario-emoji">💻</span>
                        <div class="scenario-title">اللغز الرقمي</div>
                        <div class="scenario-desc">تتبع هاكر غامض عبر الإنترنت لكشف هويته</div>
                    </div>
                </div>
            </div>

            <!-- Historical Scenarios -->
            <div class="story-scenarios" id="historical-scenarios">
                <h4 style="color: #00ffc3; margin-bottom: 15px;">🏛️ سيناريوهات تاريخية</h4>
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="andalus-scholar">
                        <span class="scenario-emoji">📖</span>
                        <div class="scenario-title">عالم الأندلس</div>
                        <div class="scenario-desc">عالم في الأندلس يحاول إنقاذ مكتبة قرطبة</div>
                    </div>
                    <div class="scenario-card" data-scenario="baghdad-house">
                        <span class="scenario-emoji">🏛️</span>
                        <div class="scenario-title">بيت الحكمة</div>
                        <div class="scenario-desc">باحث في بيت الحكمة ببغداد يكتشف مخطوطة نادرة</div>
                    </div>
                    <div class="scenario-card" data-scenario="silk-road">
                        <span class="scenario-emoji">🐪</span>
                        <div class="scenario-title">طريق الحرير</div>
                        <div class="scenario-desc">تاجر عربي في رحلة عبر طريق الحرير القديم</div>
                    </div>
                    <div class="scenario-card" data-scenario="crusades-era">
                        <span class="scenario-emoji">⚔️</span>
                        <div class="scenario-title">زمن الحروب الصليبية</div>
                        <div class="scenario-desc">قائد مسلم يحاول حماية مدينته من الغزاة</div>
                    </div>
                    <div class="scenario-card" data-scenario="ottoman-inventor">
                        <span class="scenario-emoji">⚙️</span>
                        <div class="scenario-title">مخترع عثماني</div>
                        <div class="scenario-desc">مخترع في الإمبراطورية العثمانية يطور آلة ثورية</div>
                    </div>
                    <div class="scenario-card" data-scenario="mamluk-warrior">
                        <span class="scenario-emoji">🛡️</span>
                        <div class="scenario-title">فارس مملوكي</div>
                        <div class="scenario-desc">فارس مملوكي يدافع عن القاهرة ضد الغزاة</div>
                    </div>
                </div>
            </div>

            <!-- Comedy Scenarios -->
            <div class="story-scenarios" id="comedy-scenarios">
                <h4 style="color: #00ffc3; margin-bottom: 15px;">😄 سيناريوهات كوميدية</h4>
                <div class="scenario-grid">
                    <div class="scenario-card" data-scenario="clumsy-superhero">
                        <span class="scenario-emoji">🦸</span>
                        <div class="scenario-title">البطل الأخرق</div>
                        <div class="scenario-desc">بطل خارق أخرق يحاول إنقاذ المدينة بطرق مضحكة</div>
                    </div>
                    <div class="scenario-card" data-scenario="talking-pets">
                        <span class="scenario-emoji">🐱</span>
                        <div class="scenario-title">الحيوانات الأليفة المتكلمة</div>
                        <div class="scenario-desc">حيوانات أليفة تبدأ بالكلام وتسبب فوضى كوميدية</div>
                    </div>
                    <div class="scenario-card" data-scenario="magic-gone-wrong">
                        <span class="scenario-emoji">🎩</span>
                        <div class="scenario-title">السحر المقلوب</div>
                        <div class="scenario-desc">ساحر مبتدئ تنقلب عليه حيله السحرية</div>
                    </div>
                    <div class="scenario-card" data-scenario="time-loop">
                        <span class="scenario-emoji">🔄</span>
                        <div class="scenario-title">اليوم المتكرر</div>
                        <div class="scenario-desc">شخص عالق في تكرار نفس اليوم المضحك</div>
                    </div>
                    <div class="scenario-card" data-scenario="robot-malfunction">
                        <span class="scenario-emoji">🤖</span>
                        <div class="scenario-title">الروبوت المعطل</div>
                        <div class="scenario-desc">روبوت منزلي يعطل ويسبب مواقف طريفة</div>
                    </div>
                    <div class="scenario-card" data-scenario="alien-tourist">
                        <span class="scenario-emoji">👽</span>
                        <div class="scenario-title">السائح الفضائي</div>
                        <div class="scenario-desc">فضائي يزور الأرض كسائح ويسيء فهم كل شيء</div>
                    </div>
                </div>
            </div>

            <!-- Elements Selection -->
            <div class="elements-selection" id="elementsSelection">
                <h4 style="color: #00ffc3; margin-bottom: 15px;" id="elementsTitle">اختر عناصر إضافية لقصتك</h4>
                
                <div style="margin: 20px 0;">
                    <h5 style="color: #00ffc3; margin-bottom: 10px;">🎭 الشخصية الرئيسية:</h5>
                    <div class="elements-grid" id="charactersGrid"></div>
                </div>

                <div style="margin: 20px 0;">
                    <h5 style="color: #00ffc3; margin-bottom: 10px;">🌍 موقع القصة:</h5>
                    <div class="elements-grid" id="locationsGrid"></div>
                </div>

                <div style="margin: 20px 0;">
                    <h5 style="color: #00ffc3; margin-bottom: 10px;">⚡ عنصر مثير:</h5>
                    <div class="elements-grid" id="twistsGrid"></div>
                </div>

                <button class="continue-btn" id="generateStoryBtn" disabled>
                    ✨ إنشاء القصة
                </button>
            </div>
        </section>

        <!-- Generated Story Display -->
        <div class="generated-story-display" id="storyDisplay">
            <h3 style="color: #00ffc3; text-align: center; margin-bottom: 15px;">
                ✨ قصتك المُنشأة
            </h3>
            
            <div class="story-preview" id="storyPreview">
                <h4>معاينة القصة:</h4>
                <p id="storyPreviewText"></p>
            </div>
            
            <div class="story-prompt" id="generatedStoryPrompt"></div>
            
            <div class="action-buttons">
                <button class="copy-btn" onclick="copyStoryPrompt()">📋 نسخ الطلب</button>
                <button class="new-story-btn" onclick="resetStory()">🔄 قصة جديدة</button>
                <a href="https://chat.openai.com" target="_blank" class="copy-btn" style="text-decoration: none; display: inline-block;">
                    🌐 فتح ChatGPT
                </a>
            </div>
            
            <div style="margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px; font-size: 0.9rem; color: #b0b0b0;">
                <strong>🎯 كيفية الاستخدام:</strong><br>
                1. انسخ الطلب أعلاه<br>
                2. اذهب إلى موقع ChatGPT<br>
                3. الصق الطلب في صندوق المحادثة<br>
                4. استمتع بقصة رائعة ومبدعة!
            </div>
        </div>
        
        <!-- AI Thinking Indicator -->
        <div class="ai-thinking" id="ai-thinking">
            <div class="thinking-animation">
                <div class="thinking-dot"></div>
                <div class="thinking-dot"></div>
                <div class="thinking-dot"></div>
            </div>
            <span class="thinking-text">جاري نسج خيوط القصة...</span>
        </div>
        
        <!-- Lab Progress -->
        <div class="lab-progress">
            <div class="progress-info">
                <span>تقدم القصة</span>
                <span id="progress-text">اختر نوع القصة</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 10%"></div>
            </div>
        </div>
    </main>
    
    <script src="../js/ai-lab2-story.js"></script>
</body>
</html>